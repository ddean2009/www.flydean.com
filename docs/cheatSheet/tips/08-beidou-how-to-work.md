---
slug: /beidou-how-to-work
---

# 11. 北斗系统和他的工作原理

# 简介

6月23日9时43分，北斗系统的第五十五颗导航卫星，暨北斗三号最后一颗全球组网卫星成功发射。国人一片欢腾，为祖国的高科技而骄傲。

那么北斗系统到底是什么？北斗一号，二号三号有什么区别？它的主要作用和它是怎么工作的呢？

本文将会带大家一一揭秘。

# 北斗系统简介

北斗系统是中国为了国家安全和发展需要自研的全球卫星导航系统，可以为全球用户提供全天候、全天时、高精度定位、导航和授时服务。

目前能提供全球服务的卫星导航系统主要有美国GPS、俄罗斯GLONASS、中国北斗卫星导航系统和欧洲Galileo。

在北斗系统出现之前，国内的卫星导航系统基本上是被GPS所垄断，但是从国家战略发展的角度，一直受制于美国的技术肯定是不可取的，所以国家开启了北斗系统计划。

北斗系统是通过三步走来建立的，也就是大家经常听说的北斗一号，北斗二号和北斗三号。

![](https://img-blog.csdnimg.cn/20200624123158323.png)

## 北斗一号

北斗一号主要为中国用户提供定位、授时、广域差分和短报文通信服务。

北斗一号是在1994年启动的，并与2000年发射2颗地球静止轨道卫星，建成系统并投入使用，采用有源定位体制。在2003年，发射第3颗地球静止轨道卫星，进一步增强系统性能。

## 北斗二号

北斗二号在兼容北斗一号系统技术体制基础上，增加无源定位体制，为亚太地区用户提供定位、测速、授时和短报文通信服务。

北斗二号是在2004年启动建设的，在2014年完成了14颗卫星（5颗地球静止轨道卫星、5颗倾斜地球同步轨道卫星和4颗中圆地球轨道卫星）发射组网。

## 北斗三号

北斗三号主要为全球用户提供定位导航授时、全球短报文通信和国际搜救服务，同时可为中国及周边地区用户提供星基增强、地基增强、精密单点定位和区域短报文通信等服务。

北斗三号是在2009启动的，在2020年完成30颗卫星发射组网，全面建成北斗三号系统。

具体来说2018年12月，完成包括18颗MEO卫星的基本系统建设和1 颗GEO卫星发射，并开通全球服务；

2019年12月，完成6颗MEO卫星和3颗IGSO卫星发射，完成核心星座部署，系统服务能力进一步提升；

2020年再发射2颗GEO卫星，将完成全系统建设，实现满星座运行服务。

目前，北斗系统服务由北斗二号系统和北斗三号系统共同提供，2020年后将平稳过渡为北斗三号系统为主提供。

> 名词解释：

> MEO 中圆地球轨道（Medium Earth Orbit）.MEO卫星轨道高度约21500km，轨道倾角为55度，绕地球旋转运行，通过多颗卫星组网可实现全球覆盖，北斗MEO星座回归特性为7天13圈。

> GEO 地球静止轨道（Geostationary Earth Orbit）。GEO卫星相对地球静止，轨道高度35786km，轨道倾角为0度，单星覆盖区域较大，3颗卫星可覆盖亚太大部分地区。 

> IGSO 倾斜地球同步轨道（Inclined GeoSynchronous Orbit）。IGSO卫星轨道高度与GEO卫星相同，轨道倾角为55度，星下点轨迹为“8”字。 

![](https://img-blog.csdnimg.cn/20200624135155846.png)

## 北斗系统的三个组成部分

北斗系统由空间段、地面段和用户段三部分组成。 

空间段：北斗三号系统空间段由3颗GEO卫星、3颗IGSO和24颗MEO卫星等组成。 

地面段：北斗三号系统地面段包括主控站、时间同步/注入站和监测站等若干地面站，以及星间链路运行管理设施。 

用户段：北斗系统用户段包括北斗及兼容其他卫星导航系统的芯片、模块、天线等基础产品，以及终端设备、应用系统与应用服务等。

![](https://img-blog.csdnimg.cn/20200624135334433.png)

## 北斗系统的三频服务

北斗系统分为B1，B2，B3三个频段信号。

北斗二号在B1、B2和B3三个频段提供B1I、B2I和B3I三个公开服务信号。其中，B1频段的中心频率为1561.098MHz，B2为1207.14MHz，B3为1268.52MHz。 

北斗三号在B1、B2和B3三个频段提供B1I、B1C、B2a、B2b和B3I五个公开服务信号。其中B1频段的中心频率为1575.42MHz，B2为1176.45MHz，B3为1268.52MHz。 

## 北斗系统提供的服务

北斗系统提供的服务主要从全球范围和中国范围来区分。

![](https://img-blog.csdnimg.cn/20200624140149354.png)

对于全球范围可以提供定位导航授时，全球短报文通信，国际搜救这三大服务。

对于中国及其周边的地区可以提供星基增强，地基增强，单点定位和区域短报文通信等服务。

> 名词解释：

> 星基增强服务。按照国际民航组织标准，服务中国及周边地区用户，支持单频及双频多星座两种增强服务模式，满足国际民航组织相关性能要求。

> 地基增强服务。利用移动通信网络或互联网络，向北斗基准站网覆盖区内的用户提供米级、分米级、厘米级、毫米级高精度定位服务。

# 授时服务

北斗系统提供的这些服务中大部分都是非常容易理解的。可能有朋友会疑问，授时是什么？

授时简单点讲就是传递标准时间。

其实授时这个需求古已有之。我们在国内的很多城市都可以看到有钟楼这样的建筑。

钟楼就是为一个城市传递时间的工具。大家听到钟声就知道现在是什么时辰了，就可以去做相应的事情。

我们知道目前国际通用的标准时间叫做协调世界时（Universal Time Coordinated，UTC），它是以原子时的秒长为基础，与世界时的时刻相结合。当两者之差逐年积累，达到0.9秒时，就通过正负1闰秒的方式弥补误差，同时保持时间尺度的均匀。

北斗系统的授时服务就是将中国科学院国家授时中心的中国标准时间，通过卫星服务传播给各行各业的应用，以保证时间的同步和准确性。

# 怎么通过卫星定位

卫星会定时向外部发送信号，我们的信号接收器通过接收卫星的信号来定位。

假设现在有两个卫星，每个卫星都维护了一个自己的时钟。假设每个卫星每隔一秒钟发送一个信号。同时接收器也维护了一个自己的时钟，那么接收器可以通过判断信号到达时间来计算出自己和两个卫星的距离。

![](https://img-blog.csdnimg.cn/20200624162527317.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_0,text_aHR0cDovL3d3dy5mbHlkZWFuLmNvbQ==,size_35,color_8F8F8F,t_70)

> 注意，上面我们假设接收器拥有自己的准确时钟。对这个问题的讨论我们会在后面详细解答。

> 上面我们画的是一个二维示意图。如果在三维环境中，相应的卫星个数要加一。

好了，问题来了，知道两个卫星离我们的距离是否可以精确定位我们的位置呢？

答案是否定的，因为我们并不知道卫星所在的位置。

## 星历表和卫星位置

怎么才能准确定位卫星的位置呢？

早在1617年，约翰尼斯·开普勒（Johannes Kepler）大神就在一个理想化的模型中，使用7个元素就可以定位一个卫星轨道。

当然这个理想化的模型有一些约束条件：轨道坚持2D平面，并且始终是椭圆形。 然后，你可以使用以下元素精确描述这个固定轨道：

1. 椭圆的长轴和短轴的平均值（实际上：椭圆的面积，A）
2. 椭圆的长轴和短轴之比（e）。
3. 描述轨道平面方向的三个参数：倾角（i0），
4. 上升节点的经度（Ω0），
5. 近拱点（ω）
6. 在T = 0（平均近点角M0）处，卫星沿椭圆的距离为多远
7. T = 0的时刻（t0e）

虽然开普勒的模型足够完美，但是还不够，因为地球本身并不是一个完美的球体，并且引力场也不是完全均匀的。如果直接使用这个模型，那么卫星位置可能会有千米的误差。

为了解决这个问题，1970年设计GPS的大神，在开普勒模型的基础上又添加了6个参数。

下图是GPS和欧洲的伽利略卫星系统使用的定位参数：

![](https://img-blog.csdnimg.cn/2020062417025098.png)

具体的含义我就不细讲了，感兴趣的朋友可以自行探索。

北斗卫星系统也是沿用了GPS设计的卫星定位参数。

以编号C06@0的北斗卫星为例，我们看一下它对外提供的信号信息：

![](https://img-blog.csdnimg.cn/20200624170510489.png)

如果我们把当前的卫星位置和之后可预测的卫星位置统计起来，就生成了一张星历表。

![](https://img-blog.csdnimg.cn/20200624164649678.png)

上图是2020年6月24日北斗卫星的星历表图。

## 未知的时钟

有了卫星的位置和离卫星的距离，我们就可以计算我们的位置了。但是这里有一个前提，就是卫星的时钟是准确的，并且接收者的时钟也是准确的。

这里涉及到两个问题，一个是卫星的时钟的准确性，一个是接受者时钟的准确性。

我们先来看接受者时钟准确性的问题。

如果信号是以光速来传播的，那么一纳秒的误差距离就是30厘米。

对于普通的接收设备来说，维持纳秒级的精确时钟基本上是不可能的，那怎么才能让普通的接收设备也能够精确的定位呢？

答案是再加一颗卫星。

![](https://img-blog.csdnimg.cn/20200624172320108.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_0,text_aHR0cDovL3d3dy5mbHlkZWFuLmNvbQ==,size_35,color_8F8F8F,t_70)

接收设备同时接收到三颗的信号，同一时刻的信号肯定要汇集于接受者实际位置那一点，那么接受者可以通过修正本地的时钟从而将多个卫星信号汇集于一点，从而实现本地时钟的校正和精确位置的定位。一举两得。

> 如果是在三维空间，至少需要4颗卫星。

## 准确的时钟

接受者的问题我们解决了，发送者的问题怎么解决呢？

每个卫星也需要一个精准的时钟用来发送信号。

我们知道世界上最精准的时间是在实验室环境中产生的，但是卫星所处的环境，不可能达到实验室那种精确度。

我们可以从地面上监控空中的时钟，并将其和实验室环境中的精确时间做比对，然后向卫星发送校验信息。

主要有三个校正项：

1. 时钟偏离量 af0纳秒
2. 时钟偏移率 af1纳秒/秒
3. 时钟偏移加速度 af2纳秒/秒/秒

一般来说卫星在收到校正信息之后并不会调整自己的时钟，而是将校正项和原始时钟一起发送给接收方，由接收方自行处理。

# 电离层误差修正

好了，所有的问题好像都解决了，但是还有一个问题。就是电离层的问题。

信号在电离层传输会受到影响，从而产生延时。

怎么解决这个信号延时的问题呢？

因为电离层产生的延迟与信号频率成正比。因此我们可以采用多频率的信号，从而通过不同频带之间到达的时间差来推导所产生的总延迟并消除总延迟。

这样就可以消除99.9％以上的由大气引入的误差，而无需执行进一步的建模。

上面我们介绍北斗系统的时候提到了，北斗系统使用了B1，B2，B3三个频段信号，使用三个频段信号可以更好的消除电离层的误差。

> 据说GPS是2个频段。

# 总结

本文通过北斗卫星系统介绍，粗浅的分析了一下卫星定位的原理和精确时钟。如有错误，欢迎指正。

本文参考资料:北斗卫星导航系统 http://www.beidou.gov.cn/

> 本文作者：flydean程序那些事
> 
> 本文链接：[www.flydean.com](www.flydean.com)
> 
> 本文来源：flydean的博客
> 
> 欢迎关注我的公众号:程序那些事，更多精彩等着您！










